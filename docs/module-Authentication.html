<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: Authentication</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: Authentication</h1>

    




<section>

<header>
    
        
    
</header>

<article>
    <div class="container-overview">
    
        

        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".deserializeUser"><span class="type-signature">(static) </span>deserializeUser<span class="signature">(fn)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sets the deserializer function
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The deserializer function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id=".init"><span class="type-signature">(static) </span>init<span class="signature">(options)</span><span class="type-signature"> &rarr; {function}</span></h4>
    

    



<div class="description">
    Initializes the Authentication module with some options.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The options object. With the following properties:
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>loginURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The login URL.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logoutURL</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The logout URL.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>successRedirect</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The path the user will be redirected to when the authentication is successful. This will beincluded on the payload, sent to the client.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>useInternalLoginService</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">if true, authentication will terminate on this module, response/error responsewill be sent next will not be called. If false the validationn logic will be delegated to a login service. A login service will provide a user to the "done" callback passed on the function fn at req.login(fn)if user is null AuthError is passed to next(),else allow req to proceed so next() is called.deserializeUser = <required> A function that accepts the data that has been set during serialization e.g. user or user.id,and a done function.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    - An Express Middleware function.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".serializeUser"><span class="type-signature">(static) </span>serializeUser<span class="signature">(fn)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sets the serializer to be used by this module.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">The serializer function.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="~deserializer"><span class="type-signature">(inner) </span>deserializer<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Deserializer function, hydrates a user, given a user identifier (e.g. user.id) previously provided during serialization,saved on the session.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="~login"><span class="type-signature">(inner) </span>login<span class="signature">(errMsg, user)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The login function that will be attached to the req object when the login URL is accessed. This function can be called on a login service, after the service checks if the user sent by the client is a valid user or not.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>errMsg</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last">The message that will be attached on the login response if the user is receieved is not a valid user or if there is any other error.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The user found on the database.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line72">line 72</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="~logout"><span class="type-signature">(inner) </span>logout<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The logout function that will be attached to the req object.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line100">line 100</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
            

    

    
    <h4 class="name" id="~serializerAfunctionwhichallowstheuserofthismoduletodecidewhichpartoftheuserdatawillbesavedonthesession,serializerMUSTcalltheserializationDoneCallbackpassedtoitwiththeuseridentifier."><span class="type-signature">(inner) </span>serializerA function which allows the user of this module to decide which part of the user data will be saved on the session, serializer MUST call the serializationDoneCallback passed to it with the user identifier.<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="local_modules_authentication_index.js.html">local_modules/authentication/index.js</a>, <a href="local_modules_authentication_index.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    
</dl>


















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Authentication.html">Authentication</a></li></ul><h3>Classes</h3><ul><li><a href="Artifact.html">Artifact</a></li><li><a href="Message.html">Message</a></li><li><a href="Policy.html">Policy</a></li><li><a href="Rule.html">Rule</a></li></ul><h3>Namespaces</h3><ul><li><a href="HT.html">HT</a></li><li><a href="Services.html">Services</a></li></ul><h3>Global</h3><ul><li><a href="global.html#condition">condition</a></li><li><a href="global.html#config">config</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#deserializeUserRoles">deserializeUserRoles</a></li><li><a href="global.html#destroy">destroy</a></li><li><a href="global.html#done">done</a></li><li><a href="global.html#ERROR">ERROR</a></li><li><a href="global.html#genuuidV4">genuuidV4</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getMiddleware">getMiddleware</a></li><li><a href="global.html#getServices">getServices</a></li><li><a href="global.html#handleNonXHR">handleNonXHR</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#ObjectID">ObjectID</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#prefixPath">prefixPath</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#SUCCESS">SUCCESS</a></li><li><a href="global.html#user_add">user_add</a></li><li><a href="global.html#user_add_role">user_add_role</a></li><li><a href="global.html#user_browse">user_browse</a></li><li><a href="global.html#user_edit">user_edit</a></li><li><a href="global.html#user_read">user_read</a></li><li><a href="global.html#user_read_permissions">user_read_permissions</a></li><li><a href="global.html#userRolesDeserializer">userRolesDeserializer</a></li><li><a href="global.html#WARNING">WARNING</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Mar 15 2019 18:58:57 GMT+0300 (Arab Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>