<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: app/config/routes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: app/config/routes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Defines all routes that could serve a request.
 */
//stored on config because this is configuration 
let API_VERSION = require('./').API_VERSION;

const authentication = [
  {path:'/authenticate',method:'get',serviceProvider:'authenticate'},
  {path:'/login',method:'post',serviceProvider:'login'},
  {path:'/logout',method:'get',serviceProvider:'logout'}
];

const user = [
 {path:'/users',method:'get',serviceProvider:'user_browse'},
 {path:'/users/:username',method:'get',serviceProvider:'user_read'},
 {path:'/users/:username/edit',method:'post',serviceProvider:'user_edit'},
 {path:'/users',method:'post',serviceProvider:'user_add'},
 {path:'/users/:username/delete',method:'post',serviceProvider:'user_delete'},
 {path:'/users/:username/roles',method:'get',serviceProvider:'user_roles_browse'},
 {path:'/users/:username/roles',method:'post',serviceProvider:'user_roles_add'},
 {path:'/users/:username/roles/:rolename',method:'delete',serviceProvider:'user_roles_delete'},
 {path:'/users/:username/permissions',method:'get',serviceProvider:'user_read_permissions'},

];

const role = [
 {path:'/roles',method:'get',serviceProvider:'role_browse'},
 {path:'/roles/:name',method:'get',serviceProvider:'role_read'},
 {path:'/roles/:name/edit',method:'post',serviceProvider:'role_edit'},
 {path:'/roles',method:'post',serviceProvider:'role_add'},
 {path:'/roles/:name/delete',method:'post',serviceProvider:'role_delete'},
 {path:'/roles/:name/permissions',method:'get',serviceProvider:'role_permissions_browse'},
 {path:'/roles/:name/permissions',method:'post',serviceProvider:'role_permissions_add'},
 {path:'/roles/:name/permissions/:permissionname',method:'delete',serviceProvider:'role_permissions_delete'},
]

const permissions = [
 {path:'/permissions',method:'get',serviceProvider:'permission_browse'},
 {path:'/permissions/:name',method:'get',serviceProvider:'permission_read'},
 {path:'/permissions/:name/edit',method:'update',serviceProvider:'permission_edit'},
 {path:'/permissions',method:'post',serviceProvider:'permission_add'},
 {path:'/permissions/:name',method:'delete',serviceProvider:'permission_delete'},
]

const test = [
  {path:'/test/test',method:'get',serviceProvider:'test'}
]
/**
 * Prefixes all paths with the API_VERSION.
 * @param {array} routes Arrays of routes
 * @return {array} all routes
 */
function prefixPath(prefix,...routes){
  let allRoutes = [];
  for(let i=0;i&lt;routes.length;i++){
    allRoutes = allRoutes.concat(routes[i]);
  }
  for(let i=0;i&lt;allRoutes.length;i++){
    allRoutes[i].path =`/${prefix}${allRoutes[i].path}`;
  }
  return allRoutes;
}

let routes = prefixPath(API_VERSION,authentication,user,role,permissions,test);

module.exports = routes;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Authentication.html">Authentication</a></li></ul><h3>Classes</h3><ul><li><a href="Artifact.html">Artifact</a></li><li><a href="Message.html">Message</a></li><li><a href="Policy.html">Policy</a></li><li><a href="Rule.html">Rule</a></li></ul><h3>Namespaces</h3><ul><li><a href="HT.html">HT</a></li><li><a href="Services.html">Services</a></li></ul><h3>Global</h3><ul><li><a href="global.html#condition">condition</a></li><li><a href="global.html#config">config</a></li><li><a href="global.html#db">db</a></li><li><a href="global.html#deserializeUserRoles">deserializeUserRoles</a></li><li><a href="global.html#destroy">destroy</a></li><li><a href="global.html#done">done</a></li><li><a href="global.html#ERROR">ERROR</a></li><li><a href="global.html#genuuidV4">genuuidV4</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getMiddleware">getMiddleware</a></li><li><a href="global.html#getServices">getServices</a></li><li><a href="global.html#handleNonXHR">handleNonXHR</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#ObjectID">ObjectID</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#prefixPath">prefixPath</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#SUCCESS">SUCCESS</a></li><li><a href="global.html#user_add">user_add</a></li><li><a href="global.html#user_add_role">user_add_role</a></li><li><a href="global.html#user_browse">user_browse</a></li><li><a href="global.html#user_edit">user_edit</a></li><li><a href="global.html#user_read">user_read</a></li><li><a href="global.html#user_read_permissions">user_read_permissions</a></li><li><a href="global.html#userRolesDeserializer">userRolesDeserializer</a></li><li><a href="global.html#WARNING">WARNING</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Mar 15 2019 18:58:56 GMT+0300 (Arab Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
