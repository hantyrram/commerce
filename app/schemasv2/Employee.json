{
   "$schema": "http://json-schema.org/draft-07/schema#",
   "$id": "http://hantyr.com/schemas/Employee.json",
   "$comment": "_op is a meta property used by the schemaValidator to conditionally use <required> based on the _op value of an object",
   "type":"object",
   "properties": {           
      "_op": {
         "$ref": "http://hantyr.com/schemas/definitions.json#/definitions/_op"
      },
      "employeeId":{
         "type":"string",
         "minLength":6,
         "maxLength": 15
      },
      "identity": {
         "$ref": "http://hantyr.com/schemas/definitions.json#/definitions/identity"
      },      
      "userAccount": {
         "$ref": "http://hantyr.com/schemas/definitions.json#/definitions/userAccount"
      },
      "joiningDate": {
         "type":"string",
         "format": "date"
      },
      "personalContactNo":{
         "type":"string"
      },      
      "personalEmail":{
         "type":"string"
      },

      "sssNo": {
         "type":"string"
      },

      "pagibigNo": {
         "type":"string"
      },

      "tinNo":{
         "type":"string"
      }
      
   },
   "additionalProperties":false,
   "allOf": [
      {
         "if" : {
            "properties": { "_op" : {"const": "edit"} }
         },
         "then": {
            "required": []
         }
         
      },
      {
         "if" : {
            "properties": { "_op" : {"const": "create_empidManual"} }
         },
         "then": {
            "required": ["employeeId","identity","joiningDate","tinNo"]
         }
         
      }
   ]
   
   
}